
<header>
	<nav class="menu">
		<ul>
			<li class="nav-item"><a th:href="@{/}" title="Haru.vn"
				rel="home" class="no-sticky-logo"><img th:style="'height:35px'"
					th:src="@{/assets/wp-content/uploads/2015/logo1.png}"
					th:href="@{/}" alt="Haru"></a></li>
			<li class="nav-item"><a th:style="'color: black'" th:href="@{/}">Trang
					chủ</a></li>
			<li class="nav-item"><a style="color: black"
				th:href="@{/courses}">Học theo lộ trình</a></li>
			<li class="nav-item"><a th:style="'padding:0;color: black'"
				th:href="@{/exams}">Luyện thi</a></li>
			<li class="nav-item"><a th:style="'padding:0;color: black'"
				th:href="@{/blogs}">Blogs</a></li>
			<li class="nav-item"><a style="color: black" th:href="@{/blogs}"
				class="tc-menu-inner">Liên hệ</a></li>
			<li th:if="${session.currentUser}==null" class="nav-item"><a
				type="button" data-toggle="modal" data-target="#loginModal"
				th:style="'color: #e6bc23d9;margin-left:100px'"><i
					class="fas fa-sign-in-alt"></i></a></li>
			<li th:if="${session.currentUser}!=null" class="nav-item"
				style="margin-left: 100px">

				<div class="btn-group">
					<a type="button" class="dropdown-toggle" data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false"> <img
						class="avatar" th:src="${session.avatar}"></a>
					<div class="dropdown-menu" style="font-size: 1.2rem">
						<a class="dropdown-item" href="#">Thông tin cá nhân</a> <a
							class="dropdown-item" href="#">Lịch sử bài học</a> <a
							class="dropdown-item" href="#">Lịch sử bài thi</a> <a
							class="dropdown-item" href="#">Blogs của tôi</a>
						<div class="dropdown-divider"></div>
						<a class="dropdown-item" onclick="myFunction()">Đăng
							xuất</a>
					</div>
				</div>
			</li>
		</ul>
	</nav>
	<div class="modal" id="loginModal">
		<div class="modal-dialog modal-dialog-scrollable"
			th:style="' max-width: 700px'" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalScrollableTitle">Đăng
						nhập</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div th:style="'float:left'">
						<img th:src="@{/assets/wp-content/uploads/2015/login.png}" />
					</div>
					<br>
					<div th:style="'float:left;margin: 40px'">
						<!-- login -->
						<div class="thim-login">
							<h4 class="title">Đăng nhập</h4>
							<form name="loginpopopform" th:action="@{/login}" method="post">
								<p th:style="'width: 250px'" class="login-username">
									<input type="text" name="email" required="true"
										placeholder="Username or email" class="input required" />
								</p>
								<p th:style="'width: 250px'" class="login-password">
									<input type="password" name="password" required="true"
										placeholder="Password" class="input required" />
								</p>
								<div th:if="${session.error}!=null">
									<strong><span id="error" th:text="${session.error}"></span></strong>
								</div>
								
								<a class="lost-pass-link"
									th:href="@{https://educationwp.thimpress.com/account/?action=lostpassword}"
									title="Lost Password">Quên mật khẩu?</a>
								</p>
								<p th:style="'width: 250px'" class="submit login-submit">
									<input type="submit" name="wp-submit"
										class="button button-primary button-large" value="Đăng nhập" />

								</p>
							</form>
							<p class="link-bottom">
								Tạo tài khoản mới? <a th:style="'color: blue; cursor: pointer;'"
									type="button" data-toggle="modal" data-target="#registerModal" th:onclick="closeLoginModal()">Đăng
									ký</a>
							</p>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
	<div class="modal" id="registerModal">
		<div class="modal-dialog modal-dialog-scrollable"
			th:style="' max-width: 700px'" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalScrollableTitle">Đăng
						ký</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div th:style="'float:left'">
						<img th:src="@{/assets/wp-content/uploads/2015/login.png}" />
					</div>
					<br>
					<div th:style="'float:left;margin: 40px'">
						<!-- login -->
						<div class="thim-register">
							<h4 class="title">Đăng ký tài khoản mới</h4>
							<form class="auto_login" name="registerformpopup"
								th:action="@{/register}" method="post" novalidate="novalidate">
								<input type="hidden" id="register_security"
									name="register_security" value="0991a6c5c4" /><input
									type="hidden" name="_wp_http_referer" value="/" />
								<p>
									<input th:style="'width: 250px'" placeholder="Username"
										type="text" name="user_login" class="input required" />
								</p>
								<p>
									<input th:style="'width: 250px'" placeholder="Email"
										type="email" name="user_email" class="input required" />
								</p>
								<p>
									<input th:style="'width: 250px'" placeholder="Password"
										type="password" name="password" class="input required" />
								</p>
								<p>
									<input th:style="'width: 250px'" placeholder="Repeat Password"
										type="password" name="repeat_password" class="input required" />
								</p>
								<p class="submit">
									<input type="submit" name="wp-submit"
										class="button button-primary button-large" value="Đăng ký" />
								</p>

							</form>
							<p class="link-bottom">
								Bạn đã có tài khoản? <a
									th:style="'color: blue; cursor: pointer;'" type="button"
									data-toggle="modal" data-target="#loginModal">Đăng nhập</a>
							</p>
							<div class="popup-message"></div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
	<script>
		$(document)
				.ready(
						function() {
							if (document.getElementById('error') != null
									&& window.location.href == 'http://localhost:8080/haru/login')
								$("#loginModal").modal();
							else {
								document.getElementById('error').innerHTML = "";
							}
						});
	</script>
	<style>
.thim-login {
	font-size: 1.2rem
}

.avatar {
	width: 40px;
	border-radius: 50%;
	border: solid 1px chartreuse;
}

.thim-register {
	font-size: 1.2rem
}

#error {
	color: red
}
</style>
	<script>
		function myFunction() {
			/* alert("Bạn muốn đăng xuất!"); */
			var a = confirm('Bạn muốn đăng xuất!')
			if (a) {
				location.href = 'http://localhost:8080/haru/logout'
			}

		}
		
		function closeLoginModal()
		{
			$("#loginModal").modal('hide');
		}
		
	</script>
</header>
